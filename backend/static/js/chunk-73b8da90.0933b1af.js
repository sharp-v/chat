(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73b8da90"],{"4a3c":function(e,t,a){"use strict";a("5fbc")},"5fbc":function(e,t,a){},ba29:function(e,t,a){"use strict";a.r(t);var n=a("7a23");Object(n["F"])("data-v-4d2f8f5f");var c={class:"user-info child-route"},l={class:"info-items main"},u=Object(n["l"])(" 提交 ");function r(e,t,a,r,o,i){var d=Object(n["J"])("van-icon"),b=Object(n["J"])("van-nav-bar"),s=Object(n["J"])("van-uploader"),f=Object(n["J"])("van-field"),m=Object(n["J"])("van-cell-group"),j=Object(n["J"])("van-button");return Object(n["C"])(),Object(n["i"])("div",c,[Object(n["m"])(b,{title:"我的账户","left-text":"返回","left-arrow":"",onClickLeft:t[0]||(t[0]=function(t){return e.$router.go(-1)}),class:"nav-bar"},{right:Object(n["R"])((function(){return[Object(n["m"])(d,{name:"more",size:"24"})]})),_:1}),Object(n["j"])("div",l,[Object(n["m"])(m,{inset:"",title:"可修改项："},{default:Object(n["R"])((function(){return[Object(n["m"])(f,{label:"头像"},{input:Object(n["R"])((function(){return[Object(n["m"])(s,{modelValue:r.avatarFile,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.avatarFile=e}),"after-read":r.afterReadAvatar},null,8,["modelValue","after-read"])]})),_:1}),Object(n["m"])(f,{label:"背景图"},{input:Object(n["R"])((function(){return[Object(n["m"])(s,{modelValue:r.backImageFile,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.backImageFile=e}),"after-read":r.afterReadBackImage},null,8,["modelValue","after-read"])]})),_:1}),Object(n["m"])(f,{modelValue:r.user.nickName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.user.nickName=e}),label:"昵称"},null,8,["modelValue"]),Object(n["m"])(f,{modelValue:r.user.sign,"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.user.sign=e}),type:"text",label:"签名"},null,8,["modelValue"]),Object(n["m"])(f,{modelValue:r.user.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.user.phone=e}),type:"tel",label:"手机号"},null,8,["modelValue"]),Object(n["m"])(f,{modelValue:r.user.email,"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.user.email=e}),type:"text",label:"邮箱"},null,8,["modelValue"])]})),_:1}),Object(n["m"])(j,{round:"",block:"",type:"primary","native-type":"submit",onClick:i.submit},{default:Object(n["R"])((function(){return[u]})),_:1},8,["onClick"]),Object(n["m"])(m,{inset:"",title:"不可修改项："},{default:Object(n["R"])((function(){return[Object(n["m"])(f,{modelValue:r.user.id,"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.user.id=e}),type:"text",label:"ID",readonly:""},null,8,["modelValue"]),Object(n["m"])(f,{modelValue:r.user.account,"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.user.account=e}),type:"text",label:"账户",readonly:""},null,8,["modelValue"])]})),_:1})])])}Object(n["D"])();var o=a("5530"),i=a("5502"),d=a("d6e4"),b=a("621f"),s=a("343a");function f(e){return"/upload"+e}function m(e){var t=new FormData;return t.append("avatar",e),Object(s["c"])({url:f("/avatar")},t).then((function(e){if(console.log(e),e.code.value==b["a"].default.success.value)return e.data;Object(d["a"])(e.code)}))}function j(e){var t=new FormData;return t.append("backImage",e),Object(s["c"])({url:f("/back-image")},t).then((function(e){if(console.log(e),e.code.value==b["a"].default.success.value)return e.data;Object(d["a"])(e.code)}))}var O=a("516c"),v={setup:function(){var e=Object(n["H"])({id:"",nickName:"",phone:"",account:"",sign:"",createdAt:"",updatedAt:"",email:"",avatar:"",backImage:""}),t=function(t){m(t.file).then((function(t){e.value.avatar=t}))},a=function(t){j(t.file).then((function(t){e.value.backImage=t}))},c=Object(n["H"])([{url:"",deletable:!0,imageFit:"cover",previewSize:120}]),l=Object(n["H"])([{url:"",deletable:!0,imageFit:"cover",previewSize:120}]);return{user:e,afterReadAvatar:t,afterReadBackImage:a,avatarFile:c,backImageFile:l}},computed:Object(o["a"])(Object(o["a"])({},Object(i["e"])({access:function(e){return e.current.user}})),Object(i["c"])(["getAvatar","getProfile","getBackImage"])),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["d"])(["profile"])),Object(i["b"])(["initUserProfile"])),{},{submit:function(){var e=this;console.log(this.user),Object(O["b"])(this.user).then((function(t){t&&e.profile({key:e.access,profile:e.user})})),console.log(this.user)}}),mounted:function(){console.log(this.$route),this.user=this.getProfile(this.access),this.avatarFile[0].url=this.getAvatar(this.access),this.backImageFile[0].url=this.getBackImage(this.access)}};a("4a3c");v.render=r,v.__scopeId="data-v-4d2f8f5f";t["default"]=v}}]);
//# sourceMappingURL=chunk-73b8da90.0933b1af.js.map