{"version":3,"sources":["webpack:///./src/views/relation-config/RelationConfig.vue?4dca","webpack:///./src/views/relation-config/RelationConfig.vue","webpack:///./src/views/relation-config/RelationConfig.vue?8dc5"],"names":["class","title","relation","remark","left-text","left-arrow","$router","go","item","index","key","relConfigOption","get","value","rows","autosize","placeholder","show","showPopover","theme","actions","onSelect","reference","reminderLevelOption","reminderLevel","undefined","relUnconfigOption","type","size","round","onSubmit","relUnconfigMap","Map","relConfigMap","reminderLevelMap","setup","text","computed","access","state","current","mounted","this","getRelation","methods","setRelation","action","render"],"mappings":"2IAAA,W,4DCCOA,MAAM,mB,GAQJA,MAAM,Q,GAqBWA,MAAM,0B,iBAyBzB,Q,iPAtDL,eAwDM,MAxDN,EAwDM,CAvDJ,eAMe,GALZC,MAAO,EAAAC,SAAW,EAAAA,SAASC,OAAM,KAClCC,YAAU,KACVC,aAAA,GACC,YAAU,+BAAE,EAAAC,QAAQC,IAAE,KACvBP,MAAM,W,kBAER,eA4CM,MA5CN,EA4CM,CA3CJ,eA4BiB,GA5BDC,MAAM,QAAM,C,wBACrB,iBAAiC,E,mBAAtC,eA0BM,2BA1BuB,EAAAC,UAAQ,SAAxBM,EAAMC,G,wBAAnB,eA0BM,OA1BkCC,IAAKD,GAAK,C,eAChD,eAwBW,QAvBER,MAAK,gBAAE,iBAAgC,C,8BAA7B,EAAAU,gBAAgBC,IAAIH,IAAK,OACnCI,MAAK,gBACd,iBAME,CALe,UAATJ,G,iBADR,eAME,G,MAJAK,KAAK,IACLC,SAAA,GACCC,YAAa,EAAAd,SAASC,O,WACd,EAAAD,SAASC,O,qDAAT,EAAAD,SAASC,OAAM,K,4DAGT,iBAATM,G,iBADR,eAYc,G,MAVJQ,KAAM,EAAAC,Y,+CAAA,EAAAA,YAAW,IACzBC,MAAM,OACLC,QAAS,EAAAA,QACT,SAAQ,EAAAC,U,CAEEC,UAAS,gBAClB,iBAES,CAFT,eAES,SAFT,EAES,eADJ,EAAAC,oBAAoBX,IAAI,EAAAV,SAASsB,gBAAa,O,0FAnBXC,GAA9B,EAAAd,gBAAgBC,IAAIH,W,gBA2B1C,eAaiB,GAbDR,MAAM,SAAO,C,wBACtB,iBAAiC,E,mBAAtC,eAWM,2BAXuB,EAAAC,UAAQ,SAAxBM,EAAMC,G,wBAAnB,eAWM,OAXkCC,IAAKD,GAAK,C,eAChD,eASW,QARER,MAAK,gBAAE,iBAAkC,C,8BAA/B,EAAAyB,kBAAkBd,IAAIH,IAAK,OACrCI,MAAK,gBACd,iBAIE,C,8BAHS,aAATJ,GAAiC,aAATA,E,IAA8C,KAAK,KAAK,MAAM,IAAO,iBAAsC,GAAI,O,yBAJ3FgB,GAAhC,EAAAC,kBAAkBd,IAAIH,W,kBAa9C,eAEC,GAFWkB,KAAK,UAAUC,KAAK,QAAQC,MAAA,GAAO,QAAO,EAAAC,U,yBACnD,iBAAI,C,kGASLC,EAAiB,IAAIC,IAAI,CAC7B,CAAC,YAAa,MACd,CAAC,YAAa,QACd,CAAC,YAAa,UAEVC,EAAe,IAAID,IAAI,CAC3B,CAAC,SAAU,MAEX,CAAC,gBAAiB,UAEdE,EAAmB,IAAIF,IAAI,CAC/B,CAAC,EAAG,QACJ,CAAC,EAAG,SACJ,CAAC,EAAG,SAGS,GACbG,MADa,WAEX,IAAMjC,EAAW,iBACXwB,EAAoBK,EACpBpB,EAAkBsB,EAClBV,EAAsBW,EACtBhB,EAAc,gBAAI,GAClBE,EAAU,CACd,CAAEgB,KAAM,QACR,CAAEA,KAAM,SACR,CAAEA,KAAM,QAEJjC,EAAS,iBACf,MAAO,CACLA,SACAiB,UACAF,cACAhB,WACAwB,oBACAf,kBACAY,wBAGJc,SAAU,iCACL,eAAS,CACVC,OAAQ,SAACC,GAAD,OAAWA,EAAMC,QAAQF,WAEhC,eAAW,CAAC,iBAEjBG,QA7Ba,WA8BXC,KAAKxC,SAAWwC,KAAKC,YAAYD,KAAKJ,QACtCI,KAAKvC,OAASuC,KAAKxC,SAASC,QAE9ByC,QAAS,iCACJ,eAAW,CAAC,iBADV,IAELd,SAFO,WAGLY,KAAKG,YAAY,CAAEnC,IAAKgC,KAAKJ,OAAQpC,SAAUwC,KAAKxC,YAEtDmB,SALO,SAKEyB,EAAQrC,GACfiC,KAAKxC,SAASsB,cAAgBf,M,UClHpC,EAAOsC,OAASA,EAED","file":"js/chunk-04f73097.4710cf41.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RelationConfig.vue?vue&type=style&index=0&id=662c111e&lang=css\"","<template>\r\n  <div class=\"relation-config\">\r\n    <van-nav-bar\r\n      :title=\"relation ? relation.remark : '备注'\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"$router.go(-1)\"\r\n      class=\"nav-bar\"\r\n    ></van-nav-bar>\r\n    <div class=\"main\">\r\n      <van-cell-group title=\"可更改项\">\r\n        <div v-for=\"(item, index) in relation\" :key=\"index\">\r\n          <van-cell v-show=\"relConfigOption.get(index) != undefined\">\r\n            <template #title> {{ relConfigOption.get(index) }}</template>\r\n            <template #value>\r\n              <van-field\r\n                v-if=\"index == 'remark'\"\r\n                rows=\"1\"\r\n                autosize\r\n                :placeholder=\"relation.remark\"\r\n                v-model=\"relation.remark\"\r\n              />\r\n              <van-popover\r\n                v-if=\"index == 'reminderLevel'\"\r\n                v-model:show=\"showPopover\"\r\n                theme=\"dark\"\r\n                :actions=\"actions\"\r\n                @select=\"onSelect\"\r\n              >\r\n                <template #reference>\r\n                  <button class=\"reminder-config-button\">\r\n                    {{ reminderLevelOption.get(relation.reminderLevel) }}\r\n                  </button>\r\n                </template>\r\n              </van-popover>\r\n            </template>\r\n          </van-cell>\r\n        </div>\r\n      </van-cell-group>\r\n      <van-cell-group title=\"不可更改项\">\r\n        <div v-for=\"(item, index) in relation\" :key=\"index\">\r\n          <van-cell v-show=\"relUnconfigOption.get(index) != undefined\">\r\n            <template #title> {{ relUnconfigOption.get(index) }}</template>\r\n            <template #value>\r\n              {{\r\n                index == \"createdAt\" || index == \"updatedAt\"\r\n                  ? new Date(Date.parse(item)).toLocaleString()\r\n                  : item\r\n              }}</template\r\n            >\r\n          </van-cell>\r\n        </div>\r\n      </van-cell-group>\r\n    </div>\r\n    <van-button type=\"primary\" size=\"large\" round @click=\"onSubmit\"\r\n      >保存提交</van-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { mapState, mapGetters, mapActions } from \"vuex\";\r\n\r\nconst relUnconfigMap = new Map([\r\n  [\"contactId\", \"id\"],\r\n  [\"createdAt\", \"创建时间\"],\r\n  [\"updatedAt\", \"更新时间\"],\r\n]);\r\nconst relConfigMap = new Map([\r\n  [\"remark\", \"备注\"],\r\n  // [\"relationGroupId\", \"分组\"],\r\n  [\"reminderLevel\", \"提醒级别\"],\r\n]);\r\nconst reminderLevelMap = new Map([\r\n  [0, \"接收提醒\"],\r\n  [1, \"接收不提醒\"],\r\n  [2, \"不接收\"],\r\n]);\r\n\r\nexport default {\r\n  setup() {\r\n    const relation = ref();\r\n    const relUnconfigOption = relUnconfigMap;\r\n    const relConfigOption = relConfigMap;\r\n    const reminderLevelOption = reminderLevelMap;\r\n    const showPopover = ref(false);\r\n    const actions = [\r\n      { text: \"接收提醒\" },\r\n      { text: \"接收不提醒\" },\r\n      { text: \"不接收\" },\r\n    ];\r\n    const remark = ref();\r\n    return {\r\n      remark,\r\n      actions,\r\n      showPopover,\r\n      relation,\r\n      relUnconfigOption,\r\n      relConfigOption,\r\n      reminderLevelOption,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      access: (state) => state.current.access,\r\n    }),\r\n    ...mapGetters([\"getRelation\"]),\r\n  },\r\n  mounted() {\r\n    this.relation = this.getRelation(this.access);\r\n    this.remark = this.relation.remark;\r\n  },\r\n  methods: {\r\n    ...mapActions([\"setRelation\"]),\r\n    onSubmit() {\r\n      this.setRelation({ key: this.access, relation: this.relation });\r\n    },\r\n    onSelect(action, index) {\r\n      this.relation.reminderLevel = index;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.relation-config .reminder-config-button {\r\n  color: rgb(50, 50, 51);\r\n  box-shadow: rgba(100, 101, 102, 0.12) 0px 2px 12px 0px;\r\n  border: none;\r\n  width: 100%;\r\n  border: 1px #aaa solid;\r\n  background: #fff;\r\n  overflow: hidden;\r\n  font-size: 14px;\r\n  border-radius: 10px;\r\n}\r\n.relation-config .van-cell,\r\n.relation-config .van-cell .van-cell__title {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.relation-config .van-cell .van-cell__value {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n.relation-config .van-cell .van-cell__value .van-cell {\r\n  padding: 0;\r\n}\r\n</style>","import { render } from \"./RelationConfig.vue?vue&type=template&id=662c111e\"\nimport script from \"./RelationConfig.vue?vue&type=script&lang=js\"\nexport * from \"./RelationConfig.vue?vue&type=script&lang=js\"\n\nimport \"./RelationConfig.vue?vue&type=style&index=0&id=662c111e&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}