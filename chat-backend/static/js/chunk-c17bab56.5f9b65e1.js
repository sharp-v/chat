(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c17bab56"],{"1cbf":function(t,e,c){},2781:function(t,e,c){},"2b20":function(t,e,c){"use strict";c.r(e);c("d81d");var n=c("7a23"),o={class:"relation"};function i(t,e,c,i,a,r){var u=Object(n["J"])("search"),s=Object(n["J"])("van-cell"),l=Object(n["J"])("avatar"),b=Object(n["J"])("van-tab"),O=Object(n["J"])("van-tabs");return Object(n["C"])(),Object(n["i"])("div",o,[Object(n["m"])(u),Object(n["m"])(s,{title:"系统公告","is-link":"",value:"内容",onClick:r.click},null,8,["onClick"]),Object(n["m"])(s,{title:"通知消息","is-link":"",value:"内容",onClick:r.click},null,8,["onClick"]),Object(n["m"])(O,{active:i.active,"onUpdate:active":e[0]||(e[0]=function(t){return i.active=t}),color:"#1989fa"},{default:Object(n["R"])((function(){return[Object(n["m"])(b,{title:"好友"},{default:Object(n["R"])((function(){return[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(t.map,(function(e,c){return Object(n["S"])((Object(n["C"])(),Object(n["g"])(s,{title:e[1].remark,key:c,onClick:function(t){return r.toExhibt(e[0])}},{icon:Object(n["R"])((function(){return[Object(n["m"])(l,{size:"3rem",avatarLink:t.getAvatar(e[0])},null,8,["avatarLink"])]})),_:2},1032,["title","onClick"])),[[n["P"],e[1].type==i.TYPE.FRIEND]])})),128))]})),_:1}),Object(n["m"])(b,{title:"群组"},{default:Object(n["R"])((function(){return[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(t.map,(function(t,e){return Object(n["S"])((Object(n["C"])(),Object(n["g"])(s,{title:t[1].remark,key:e,onClick:function(e){return r.toExhibt(t[0])}},null,8,["title","onClick"])),[[n["P"],t[1].type==i.TYPE.GROUP]])})),128))]})),_:1})]})),_:1},8,["active"])])}var a=c("5530"),r=c("5502"),u=c("626a"),s=c("a49b"),l=c("7e7f"),b=c("2d90"),O={name:"relation",setup:function(){var t=Object(n["H"])(""),e=Object(n["H"])(2),c=s["g"].TYPE;return{value:t,active:e,TYPE:c}},computed:Object(a["a"])(Object(a["a"])({},Object(r["e"])({map:function(t){return t.relation.map},access:function(t){return t.current.access}})),Object(r["c"])(["getProfile","getAvatar"])),methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(r["b"])(["initProfile","initRelation"])),Object(r["d"])(["setAccess"])),{},{toExhibt:function(t){this.setAccess(t),this.initProfile(t),this.$router.push("/exhibt")},click:function(){Object(u["a"])("系统公告和通知消息，待开发")}}),beforeRouteEnter:function(){if(!localStorage.getItem(s["i"]))return!1},mounted:function(){this.initRelation()},components:{Search:b["a"],Avatar:l["a"]}};c("7201");O.render=i;e["default"]=O},"2d90":function(t,e,c){"use strict";c("b0c0");var n=c("7a23"),o={class:"search"},i=Object(n["j"])("button",{type:"primary",class:"search-button"},"选项",-1),a={class:"results"},r=Object(n["j"])("div",{class:"close-tips"},"(点击空白处退出搜索)",-1);function u(t,e,c,u,s,l){var b=Object(n["J"])("van-popover"),O=Object(n["J"])("van-search"),j=Object(n["J"])("van-cell"),h=Object(n["J"])("van-cell-group");return Object(n["C"])(),Object(n["i"])("div",o,[Object(n["m"])(O,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=function(t){return u.value=t}),shape:"round","show-action":"",placeholder:u.searchOption[u.optionValue].text+"搜索",onFocus:e[3]||(e[3]=function(t){return l.focus()}),onBlur:e[4]||(e[4]=function(t){return l.blur()})},{left:Object(n["R"])((function(){return[Object(n["m"])(b,{show:u.showPopover,"onUpdate:show":e[0]||(e[0]=function(t){return u.showPopover=t}),theme:"dark",actions:u.searchOption,onSelect:l.onSelect,placement:"bottom-start"},{reference:Object(n["R"])((function(){return[i]})),_:1},8,["show","actions","onSelect"])]})),action:Object(n["R"])((function(){return[Object(n["j"])("button",{onClick:e[1]||(e[1]=function(){return l.onSearch&&l.onSearch.apply(l,arguments)}),class:"search-button"},"搜索")]})),_:1},8,["modelValue","placeholder"]),Object(n["S"])(Object(n["j"])("div",{class:"search-result",onClick:e[5]||(e[5]=function(t){return l.closeSearch()})},[Object(n["S"])(Object(n["j"])("div",a,[u.result.users&&u.result.users.length>0?(Object(n["C"])(),Object(n["g"])(h,{key:0,title:"用户"},{default:Object(n["R"])((function(){return[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(u.result.users,(function(t,e){return Object(n["C"])(),Object(n["g"])(j,{title:t.nickName,value:t.account,key:e,onClick:Object(n["U"])((function(e){return l.toExhibt(t)}),["stop"])},null,8,["title","value","onClick"])})),128))]})),_:1})):Object(n["h"])("",!0),u.result.groups&&u.result.groups.length>0?(Object(n["C"])(),Object(n["g"])(h,{key:1,title:"群组"},{default:Object(n["R"])((function(){return[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(u.result.groups,(function(t,e){return Object(n["C"])(),Object(n["g"])(j,{title:t.name,value:t.ownId,key:e,onClick:Object(n["U"])((function(e){return l.toExhibt(t)}),["stop"])},null,8,["title","value","onClick"])})),128))]})),_:1})):Object(n["h"])("",!0)],512),[[n["P"],u.showResult]]),r],512),[[n["P"],u.searchFocus]])])}var s=c("5530"),l=c("5502"),b=c("626a"),O=c("a49b"),j=c("6b08"),h={KEY_WORD:0,ACCOUNT:1,GROUP:2,LOCAL:3},f={setup:function(){var t=Object(n["H"])(!1),e=Object(n["H"])(""),c=Object(n["H"])(""),o=Object(n["H"])(!1),i=Object(n["H"])(!1),a=Object(n["H"])(h.KEY_WORD),r=[{text:"关键字",value:h.KEY_WORD},{text:"账户",value:h.ACCOUNT},{text:"群组",value:h.GROUP},{text:"本地",value:h.LOCAL}];return{showPopover:t,value:e,result:c,searchFocus:o,optionValue:a,searchOption:r,showResult:i}},methods:Object(s["a"])(Object(s["a"])({},Object(l["d"])(["setAccess"])),{},{onSelect:function(t,e){this.optionValue=this.searchOption[e].value},onSearch:function(){var t=this;switch(console.log("search"),this.openSearch(),this.optionValue){case h.KEY_WORD:Object(j["c"])(this.value).then((function(e){t.result=e,t.showResult=!0}));break;case h.ACCOUNT:Object(b["a"])("功能待完成");break;case h.GROUP:Object(b["a"])("功能待完成");break;case h.LOCAL:Object(b["a"])("功能待完成");break}},focus:function(){this.openSearch()},blur:function(){this.closeSearch()},openSearch:function(){console.log("open"),this.searchFocus=!0},closeSearch:function(){console.log("close"),this.searchFocus=!1},toExhibt:function(t){var e=JSON.stringify({id:t.id,type:t.ownId?O["a"]:O["j"]});this.setAccess(e),this.$router.push("/exhibt")}})};c("d2dd");f.render=u;e["a"]=f},4991:function(t,e,c){"use strict";c("2781")},7201:function(t,e,c){"use strict";c("7cb3")},"7cb3":function(t,e,c){},"7e7f":function(t,e,c){"use strict";var n=c("7a23");function o(t,e,c,o,i,a){var r=Object(n["J"])("van-image");return Object(n["C"])(),Object(n["g"])(r,{round:"",width:c.size,height:c.size,src:c.avatarLink},null,8,["width","height","src"])}var i={props:{avatarLink:{type:String,default:c("f42b")},size:{type:String,default:"80"}},mounted:function(){}};c("4991");i.render=o,i.__scopeId="data-v-77e4a452";e["a"]=i},d2dd:function(t,e,c){"use strict";c("1cbf")}}]);
//# sourceMappingURL=chunk-c17bab56.5f9b65e1.js.map